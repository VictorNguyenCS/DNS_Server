# DNS Server

General Assumptions:
- Program is run on python 2.7.15
- User inputs correct server information when starting up the servers
- Libraries are installed (sockets and thread)
- Client/Server are run on same machine (Although this can be easily changed if needed in the future)
- Log files generated by our program should match log files given as an example by TAs/Professor
- The Log files should be deleted everytime the program is run for testing purposes.

 

Program follows the diagram closely.

Important notes about implementation:
- The Com, Gov, and Org servers are seperate server files.  This is due to how the diagram illustrated the desired implementation of the program.  This can be easily changed, if this was not the intended design.
- The servers currently do not shut down correctly, however clients are able to shut down and more clients are allowed to come in.
- The cache is currently shared for various different users.  This implementation is due to the fact that clients are running on the same computer.  However, this can be easily changed by making the cache a local variable rather than a global variable.  
- The log files are created in order to match the examples provided by the TAs/Professor.  



***I could not follow the logic for default_log file at all. (But other log files should be good)

How to compile:
1.) Run all the servers.  Each server takes in one argument for the file that it is supposed to read (server.dat, com.dat, gov.dat, or org.dat).  
 - python RootServer.py server.dat
 - python LocalServer.py default.dat
 - python OrgServer.py org.dat
 - python ComServer.py com.dat
 - python GovServer.py gov.dat

2.) Once all the servers are running. Run the client.  The client takes in one argument, the clientID.

***There is a version that takes in the server name and port.  However, for simplicity's sake I set it so that the server name and port is hardcoded.  I have a commented version of how to change this.


Program Flow:

Once servers and clients are started.  
A client sends a message specifying whether to use recursive or iterative implementation.

Recursive:
- Local DNS sends request to Root Server
- Root Server looks into server.dat file to look for the correct domain server (com, gov, or org), RootServer procedes to request the hostname from the domain server
- Once hostname gets ip, it gets passed back down to lcoal server, through root server.
- The ip gets added to cache, and then sent to the client.

Iterative:
- Local DNS sends request to Root Server to get domain server
- Once Local DNS gets domain server, it sends the hostname to the domain server to get ip
- Once domain server gets the ip, it gets sent back to the local DNS
- The ip gets added to cache, and then sent to the client.






